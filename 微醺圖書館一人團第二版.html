<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>微醺圖書館 | The Tipsy Library</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@300;500;700&display=swap" rel="stylesheet">
    
    <style>
        
        :root {
            --黑色: #121212; 
            --卡片背景色: #1e1e1e;    
            --奢華金色: #c5a059;   
            --次要文字色: #a0a0a0;  
        }

        body {
            background-color: var(--黑色);
            color: #f5f5f7;
            font-family: 'Noto Serif TC', serif;
        }

        /* 導覽列與篩選器 */
        .頂部篩選列 { /* 原 .filter-bar */
            background: rgba(30, 30, 30, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .form-select { 
            background-color: #2c2c2c;
            border: 1px solid #444;
            color: #fff;
            border-radius: 0;
        }

        .form-select:focus {
            background-color: #333;
            color: #fff;
            border-color: var(--奢華金色);
            box-shadow: none;
        }

        /* 酒卡設計 */
        .特調酒卡 { /* 原 .cocktail-card */
            background-color: var(--卡片背景色);
            border: none;
            transition: transform 0.3s cubic-bezier(0.25, 1, 0.5, 1);
            cursor: pointer;
            height: 100%;
            overflow: hidden;
        }

        .特調酒卡:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .card-img-top { /* Bootstrap 圖片類別 */
            height: 250px;
            object-fit: cover;
            filter: brightness(0.8);
            transition: filter 0.3s;
        }

        .特調酒卡:hover .card-img-top {
            filter: brightness(1);
        }

        .card-body {
            padding: 20px;
            text-align: center;
        }

        .card-title {
            color: var(--奢華金色);
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .卡片資訊小字 { /* 原 .card-meta */
            font-size: 0.85rem;
            color: var(--次要文字色);
            letter-spacing: 1px;
            margin-bottom: 15px;
        }

        /* Modal 彈窗設計 */
        .modal-content {
            background-color: #1a1a1a;
            color: #fff;
            border: 1px solid #333;
        }

        .modal-header {
            border-bottom: 1px solid #333;
        }
        
        .modal-footer {
            border-top: 1px solid #333;
        }

        .modal-title {
            color: var(--奢華金色);
            font-weight: 700;
        }

        .彈窗大圖 { /* 原 .modal-img */
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-radius: 4px;
            margin-bottom: 20px;
        }

        .故事內文 { /* 原 .story-text */
            font-size: 1rem;
            line-height: 1.8;
            color: #d1d1d1;
            margin-top: 20px;
            font-style: italic;
            border-left: 2px solid var(--奢華金色);
            padding-left: 15px;
        }

        .自訂標籤 { /* 原 .badge-custom */
            background-color: rgba(197, 160, 89, 0.1);
            color: var(--奢華金色);
            border: 1px solid var(--奢華金色);
            padding: 5px 10px;
            font-weight: normal;
        }

        /* RWD 微調 */
        @media (min-width: 768px) {
            .modal-body {
                display: flex;
                gap: 30px;
            }
            .彈窗大圖 {
                width: 45%;
                height: auto;
                margin-bottom: 0;
            }
            .彈窗右側資訊 { /* 原 .modal-info */
                width: 55%;
            }
        }
    </style>
</head>
<body>

    <div class="頂部篩選列">
        <div class="container">
            <div class="row g-3 align-items-center">
                <div class="col-md-3">
                    <h4 class="m-0" style="color: var(--奢華金色); letter-spacing: 2px;">微醺圖書館</h4>
                </div>
                <div class="col-6 col-md-3">
                    <select class="form-select" id="篩選-基酒">
                        <option value="all">選擇基酒 (Base)</option>
                        <option value="Gin">琴酒 (Gin)</option>
                        <option value="Vodka">伏特加 (Vodka)</option>
                        <option value="Rum">蘭姆酒 (Rum)</option>
                        <option value="Whiskey">威士忌 (Whiskey)</option>
                        <option value="Tequila">龍舌蘭 (Tequila)</option>
                    </select>
                </div>
                <div class="col-6 col-md-3">
                    <select class="form-select" id="篩選-濃度">
                        <option value="all">酒精濃度 (ABV)</option>
                        <option value="low">微醺 (Low &lt;15%)</option>
                        <option value="med">剛好 (Med 15-30%)</option>
                        <option value="high">重擊 (High &gt;30%)</option>
                    </select>
                </div>
                <div class="col-12 col-md-3">
                    <select class="form-select" id="篩選-口感">
                        <option value="all">口感風味 (Taste)</option>
                        <option value="Sweet">酸甜/果香</option>
                        <option value="Dry">辛辣/不甜</option>
                        <option value="Refreshing">清爽/氣泡</option>
                        <option value="Bitter">苦甜/大人味</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <div class="container py-5">
        <div class="row g-4" id="雞尾酒展示網格">
        </div>
    </div>

    <div class="modal fade" id="詳情彈窗" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="彈窗-標題">Cocktail Name</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <img src="" alt="" class="彈窗大圖" id="彈窗-圖片">
                    <div class="彈窗右側資訊">
                        <div class="d-flex gap-2 mb-3">
                            <span class="自訂標籤" id="彈窗-基酒">Base</span>
                            <span class="自訂標籤" id="彈窗-濃度">ABV</span>
                            <span class="自訂標籤" id="彈窗-口感">Taste</span>
                        </div>
                        <h6 class="text-white-50">材料：</h6>
                        <p id="彈窗-材料列表" class="mb-4 text-light"></p>
                        <h6 class="text-white-50">故事：</h6>
                        <p class="故事內文" id="彈窗-故事文字">
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    
    <script>
        // --- 1. 資料庫 (JSON Array) ---
        // 資料內容的 key (如 id, name) 為了程式穩定不建議改成中文，但顯示的內容是中文的
        const cocktails = [
            {
                id: 1,
                name: "Gin Tonic (琴通寧)",
                base: "Gin",
                abvLevel: "low", 
                abvDisplay: "10%",
                taste: "Refreshing",
                ingredients: "琴酒, 通寧水, 檸檬角",
                story: "如果寂寞有解藥，那一定是琴通寧氣泡破裂的聲音。它不復雜，就像午後的一場陣雨，來得快，去得也快，只留下清爽的涼意。",
                img: "https://i.ibb.co/Q3h8fgyF/Gemini-Generated-Image-o6ea1co6ea1co6ea.png"
            },
            {
                id: 2,
                name: "Negroni (內格羅尼)",
                base: "Gin",
                abvLevel: "med",
                abvDisplay: "24%",
                taste: "Bitter",
                ingredients: "琴酒, 金巴利 (Campari), 甜香艾酒",
                story: "這是一杯屬於大人的酒。入口時的苦澀，像是吞下了一整天的無奈；但隨後回甘的甜味，又彷彿在告訴你：撐過去，一切都會好起來的。",
                img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRDKxS8gFlOAyZBhMbSr8bG_eYF7MVzo6NIRQ&s"
            },
            {
                id: 3,
                name: "Mojito (莫希托)",
                base: "Rum",
                abvLevel: "low",
                abvDisplay: "12%",
                taste: "Refreshing",
                ingredients: "蘭姆酒, 薄荷葉, 砂糖, 蘇打水, 檸檬",
                story: "海明威的最愛。將薄荷葉搗碎的過程，就像是把煩惱一點一點地碾碎。喝下一口，彷彿置身於哈瓦那的海岸，海風吹散了所有的燥熱。",
                img: "https://images.unsplash.com/photo-1513558161293-cdaf765ed2fd?auto=format&fit=crop&w=600&q=80"
            },
            {
                id: 4,
                name: "Old Fashioned (老派)",
                base: "Whiskey",
                abvLevel: "high",
                abvDisplay: "32%",
                taste: "Dry",
                ingredients: "波本威士忌, 方糖, 苦精, 橙皮",
                story: "正如其名，老派。它不屑於花俏的裝飾，只用時間與冰塊的融化來對話。適合一個人在深夜，坐在皮沙發上，思考那些沒有答案的問題。",
                img: "https://image-cdn-flare.qdm.cloud/q69c866e2b26c9/image/data/31.%E7%B6%93%E5%85%B8%E8%AA%BF%E9%85%92/590c825b0fb841996dd7c27a7ad7fd60.jpg"
            },
            {
                id: 5,
                name: "Long Island Iced Tea (長島冰茶)",
                base: "Vodka",
                abvLevel: "high",
                abvDisplay: "30%+",
                taste: "Sweet",
                ingredients: "伏特加, 琴酒, 蘭姆酒, 龍舌蘭, 橙酒, 可樂",
                story: "披著茶色外衣的失身酒。它甜美得讓你忘記危險，直到酒精重擊你的腦門。這不是為了品味，這是為了遺忘。今晚，我不打算清醒著回家。",
                img: "https://i.ibb.co/Q3h8fgyF/Gemini-Generated-Image-o6ea1co6ea1co6ea.png"
            },
            {
                id: 6,
                name: "Cosmopolitan (柯夢波丹)",
                base: "Vodka",
                abvLevel: "med",
                abvDisplay: "22%",
                taste: "Sweet",
                ingredients: "伏特加, 橙酒, 蔓越莓汁, 檸檬汁",
                story: "都市傳說中的粉紅佳人。它優雅、時尚，卻也帶著一絲距離感。像是在霓虹燈下的短暫邂逅，美麗，但你知道那不會長久。",
                img: "https://www.thebottleclub.com/cdn/shop/articles/TBC_recipe_image_9-490216.jpg?v=1707230667"
            },
            {
                id: 7,
                name: "Margarita (瑪格麗特)",
                base: "Tequila",
                abvLevel: "med",
                abvDisplay: "26%",
                taste: "Sour",
                ingredients: "龍舌蘭, 橙酒, 檸檬汁, 鹽口杯",
                story: "那是為了紀念逝去的戀人而調製的酒。杯口的鹽圈是淚水的味道。每一口都是對回憶的致敬，酸楚中帶著鹹，最後才是酒精的撫慰。",
                img: "https://image-cdn-flare.qdm.cloud/q69c866e2b26c9/image/data/31.%E7%B6%93%E5%85%B8%E8%AA%BF%E9%85%92/1162548884f22223b23fabb168e7b88c.jpg"
            },
            {
                id: 8,
                name: "Martini (馬丁尼)",
                base: "Gin",
                abvLevel: "high",
                abvDisplay: "35%",
                taste: "Dry",
                ingredients: "琴酒, 不甜香艾酒, 橄欖",
                story: "雞尾酒之王。它銳利得像一把手術刀，精準地切開你的偽裝。只有足夠堅強的人，才能直視這杯透明液體後的自己。",
                img: "https://mixology.com.tw/images/recipe/pic/G001.jpg"
            },
             {
                id: 9,
                name: "Sidecar (側車)",
                base: "Brandy",
                abvLevel: "med",
                abvDisplay: "28%",
                taste: "Sour",
                ingredients: "白蘭地, 橙酒, 檸檬汁",
                story: "據說源自一次大戰的機車軍官。這是一杯關於出發與抵達的酒。平衡的酸甜，像是人生旅途中的起伏，喝完它，繼續上路。",
                img: "https://images.vocus.cc/e2f7c81c-1e37-419b-bc0a-283ae9711f40.jpg"
            },
            {
                id: 10,
                name: "Daiquiri (戴吉利)",
                base: "Rum",
                abvLevel: "med",
                abvDisplay: "20%",
                taste: "Sour",
                ingredients: "蘭姆酒, 檸檬汁, 糖漿",
                story: "最簡單的三元素，卻考驗著調酒師的靈魂。它告訴我們，生活不需要太多的裝飾，只要比例對了，簡單也可以很深刻。",
                img: "https://www.thebottleclub.com/cdn/shop/articles/TBC_recipe_image_11-436716.jpg?v=1707230647"
            }
        ];

        // --- 2. 渲染函式 (ID 綁定已更新) ---
        const 網格容器 = document.getElementById('雞尾酒展示網格');

        function 渲染酒卡(data) {
            網格容器.innerHTML = '';
            
            data.forEach(drink => {
                const col = document.createElement('div');
                col.className = 'col-6 col-md-4 col-lg-3';
                
                // 注意：這裡的 class 引用了我們上面改成中文的 class
                col.innerHTML = `
                    <div class="card 特調酒卡" onclick="顯示詳細資訊(${drink.id})">
                        <img src="${drink.img}" class="card-img-top" alt="${drink.name}">
                        <div class="card-body">
                            <h5 class="card-title">${drink.name}</h5>
                            <div class="卡片資訊小字">
                                <span>${drink.base}</span> | <span>${drink.abvDisplay}</span>
                            </div>
                        </div>
                    </div>
                `;
                網格容器.appendChild(col);
            });
        }

        // --- 3. 篩選邏輯 (ID 綁定已更新) ---
        const 篩選器_基酒 = document.getElementById('篩選-基酒');
        const 篩選器_濃度 = document.getElementById('篩選-濃度');
        const 篩選器_口感 = document.getElementById('篩選-口感');

        function 執行篩選() {
            const 選到的基酒 = 篩選器_基酒.value;
            const 選到的濃度 = 篩選器_濃度.value;
            const 選到的口感 = 篩選器_口感.value;

            const 篩選結果 = cocktails.filter(item => {
                return (選到的基酒 === 'all' || item.base === 選到的基酒) &&
                       (選到的濃度 === 'all' || item.abvLevel === 選到的濃度) &&
                       (選到的口感 === 'all' || item.taste === 選到的口感);
            });

            渲染酒卡(篩選結果);
        }

        篩選器_基酒.addEventListener('change', 執行篩選);
        篩選器_濃度.addEventListener('change', 執行篩選);
        篩選器_口感.addEventListener('change', 執行篩選);

        // --- 4. Modal 顯示詳情邏輯 (ID 綁定已更新) ---
        const 我的彈窗 = new bootstrap.Modal(document.getElementById('詳情彈窗'));

        function 顯示詳細資訊(id) {
            const drink = cocktails.find(item => item.id === id);
            
            // 填入資料到 Modal (ID 對應 HTML)
            document.getElementById('彈窗-標題').innerText = drink.name;
            document.getElementById('彈窗-圖片').src = drink.img;
            document.getElementById('彈窗-基酒').innerText = drink.base;
            document.getElementById('彈窗-濃度').innerText = drink.abvDisplay;
            document.getElementById('彈窗-口感').innerText = drink.taste;
            document.getElementById('彈窗-材料列表').innerText = drink.ingredients;
            document.getElementById('彈窗-故事文字').innerText = drink.story;

            我的彈窗.show();
        }

        // 初始化
        渲染酒卡(cocktails);

    </script>
</body>
</html>